var Berry = {
    "不放树果": {
        "序":0,
        "日":"無のみ",
        "英":"Null Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":0
    },
    "樱子果": {
        "序":1,
        "日":"クラボのみ",
        "英":"Cheri Berry",
        "辣":10,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":25
    },
    "零余果": {
        "序":2,
        "日":"カゴのみ",
        "英":"Chesto Berry",
        "辣":0,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":25
    },
    "桃桃果": {
        "序":3,
        "日":"モモンのみ",
        "英":"pecha Berry",
        "辣":0,
        "涩":0,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":25
    },
    "莓莓果": {
        "序":4,
        "日":"チーゴのみ",
        "英":"Rawst Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":10,
        "酸":0,
        "润":25
    },
    "利木果": {
        "序":5,
        "日":"ナナシのみ",
        "英":"Aspear Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":10,
        "润":25
    },
    "苹野果": {
        "序":6,
        "日":"ヒメリのみ",
        "英":"Leppa Berry",
        "辣":10,
        "涩":0,
        "甜":10,
        "苦":10,
        "酸":10,
        "润":20
    },
    "橙橙果": {
        "序":7,
        "日":"オレンのみ",
        "英":"Oran Berry",
        "辣":10,
        "涩":10,
        "甜":0,
        "苦":10,
        "酸":10,
        "润":20
    },
    "柿仔果": {
        "序":8,
        "日":"キーのみ",
        "英":"persim Berry",
        "辣":10,
        "涩":10,
        "甜":10,
        "苦":0,
        "酸":10,
        "润":20
    },
    "木子果": {
        "序":9,
        "日":"ラムのみ",
        "英":"Lum Berry",
        "辣":10,
        "涩":10,
        "甜":10,
        "苦":10,
        "酸":0,
        "润":20
    },
    "文柚果": {
        "序":10,
        "日":"オボンのみ",
        "英":"Sitrus Berry",
        "辣":0,
        "涩":10,
        "甜":10,
        "苦":10,
        "酸":10,
        "润":20
    },
    "勿花果": {
        "序":11,
        "日":"フィラのみ",
        "英":"Figy Berry",
        "辣":15,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":25
    },
    "异奇果": {
        "序":12,
        "日":"ウイのみ",
        "英":"Wiki Berry",
        "辣":0,
        "涩":15,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":25
    },
    "芒芒果": {
        "序":13,
        "日":"マゴのみ",
        "英":"Mago Berry",
        "辣":0,
        "涩":0,
        "甜":15,
        "苦":0,
        "酸":0,
        "润":25
    },
    "乐芭果": {
        "序":14,
        "日":"バンジのみ",
        "英":"Aguav Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":15,
        "酸":0,
        "润":25
    },
    "芭亚果": {
        "序":15,
        "日":"イアのみ",
        "英":"Iapapa Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":15,
        "润":25
    },
    "蔓莓果": {
        "序":16,
        "日":"ズリのみ",
        "英":"Razz Berry",
        "辣":10,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":20
    },
    "墨莓果": {
        "序":17,
        "日":"ブリーのみ",
        "英":"Bluk Berry",
        "辣":0,
        "涩":10,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":20
    },
    "蕉香果": {
        "序":18,
        "日":"ナナのみ",
        "英":"Nanab Berry",
        "辣":0,
        "涩":0,
        "甜":10,
        "苦":10,
        "酸":0,
        "润":20
    },
    "西梨果": {
        "序":19,
        "日":"セシナのみ",
        "英":"Wepear Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":10,
        "酸":10,
        "润":20
    },
    "凰梨果": {
        "序":20,
        "日":"パイルのみ",
        "英":"pinap Berry",
        "辣":10,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":10,
        "润":20
    },
    "榴石果": {
        "序":21,
        "日":"ザロクのみ",
        "英":"pomeg Berry",
        "辣":10,
        "涩":0,
        "甜":10,
        "苦":10,
        "酸":0,
        "润":20
    },
    "藻根果": {
        "序":22,
        "日":"ネコブのみ",
        "英":"Kelpsy Berry",
        "辣":0,
        "涩":10,
        "甜":0,
        "苦":10,
        "酸":10,
        "润":20
    },
    "比巴果": {
        "序":23,
        "日":"タポルのみ",
        "英":"Qualot Berry",
        "辣":10,
        "涩":0,
        "甜":10,
        "苦":0,
        "酸":10,
        "润":20
    },
    "哈密果": {
        "序":24,
        "日":"ロメのみ",
        "英":"Hondew Berry",
        "辣":10,
        "涩":10,
        "甜":0,
        "苦":10,
        "酸":0,
        "润":20
    },
    "萄葡果": {
        "序":25,
        "日":"ウブのみ",
        "英":"Grepa Berry",
        "辣":0,
        "涩":10,
        "甜":10,
        "苦":0,
        "酸":10,
        "润":20
    },
    "茄番果": {
        "序":26,
        "日":"マトマのみ",
        "英":"Tamato Berry",
        "辣":20,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":30
    },
    "玉黍果": {
        "序":27,
        "日":"モコシのみ",
        "英":"Cornn Berry",
        "辣":0,
        "涩":20,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":30
    },
    "岳竹果": {
        "序":28,
        "日":"ゴスのみ",
        "英":"Magost Berry",
        "辣":0,
        "涩":0,
        "甜":20,
        "苦":10,
        "酸":0,
        "润":30
    },
    "茸丹果": {
        "序":29,
        "日":"ラブタのみ",
        "英":"Rabuta Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":20,
        "酸":10,
        "润":30
    },
    "檬柠果": {
        "序":30,
        "日":"ノメルのみ",
        "英":"Nomel Berry",
        "辣":10,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":20,
        "润":30
    },
    "刺角果": {
        "序":31,
        "日":"ノワキのみ",
        "英":"Spelon Berry",
        "辣":30,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":35
    },
    "椰木果": {
        "序":32,
        "日":"シーヤのみ",
        "英":"pamtre Berry",
        "辣":0,
        "涩":30,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":35
    },
    "瓜西果": {
        "序":33,
        "日":"カイスのみ",
        "英":"Watmel Berry",
        "辣":0,
        "涩":0,
        "甜":30,
        "苦":10,
        "酸":0,
        "润":35
    },
    "金枕果": {
        "序":34,
        "日":"ドリのみ",
        "英":"Durin Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":30,
        "酸":10,
        "润":35
    },
    "靛莓果": {
        "序":35,
        "日":"ベリブのみ",
        "英":"Belue Berry",
        "辣":10,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":30,
        "润":35
    },
    "巧可果": {
        "序":36,
        "日":"オッカのみ",
        "英":"Occa Berry",
        "辣":15,
        "涩":0,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":30
    },
    "千香果": {
        "序":37,
        "日":"イトケのみ",
        "英":"passho Berry",
        "辣":0,
        "涩":15,
        "甜":0,
        "苦":10,
        "酸":0,
        "润":30
    },
    "烛木果": {
        "序":38,
        "日":"ソクノのみ",
        "英":"Wacan Berry",
        "辣":0,
        "涩":0,
        "甜":15,
        "苦":0,
        "酸":10,
        "润":30
    },
    "罗子果": {
        "序":39,
        "日":"リンドのみ",
        "英":"Rindo Berry",
        "辣":10,
        "涩":0,
        "甜":0,
        "苦":15,
        "酸":0,
        "润":30
    },
    "番荔果": {
        "序":40,
        "日":"ヤチェのみ",
        "英":"Yache Berry",
        "辣":0,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":15,
        "润":30
    },
    "莲蒲果": {
        "序":41,
        "日":"ヨプのみ",
        "英":"Chople Berry",
        "辣":15,
        "涩":0,
        "甜":0,
        "苦":10,
        "酸":0,
        "润":30
    },
    "通通果": {
        "序":42,
        "日":"ビアーのみ",
        "英":"Kebia Berry",
        "辣":0,
        "涩":15,
        "甜":0,
        "苦":0,
        "酸":10,
        "润":30
    },
    "腰木果": {
        "序":43,
        "日":"シュカのみ",
        "英":"Shuca Berry",
        "辣":10,
        "涩":0,
        "甜":15,
        "苦":0,
        "酸":0,
        "润":30
    },
    "棱瓜果": {
        "序":44,
        "日":"バコウのみ",
        "英":"Coba Berry",
        "辣":0,
        "涩":10,
        "甜":0,
        "苦":15,
        "酸":0,
        "润":30
    },
    "福禄果": {
        "序":45,
        "日":"ウタンのみ",
        "英":"payapa Berry",
        "辣":0,
        "涩":0,
        "甜":10,
        "苦":0,
        "酸":15,
        "润":30
    },
    "扁樱果": {
        "序":46,
        "日":"タンガのみ",
        "英":"Tanga Berry",
        "辣":20,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":10,
        "润":35
    },
    "草蚕果": {
        "序":47,
        "日":"ヨロギのみ",
        "英":"Charti Berry",
        "辣":10,
        "涩":20,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":35
    },
    "佛柑果": {
        "序":48,
        "日":"カシブのみ",
        "英":"Kasib Berry",
        "辣":0,
        "涩":10,
        "甜":20,
        "苦":0,
        "酸":0,
        "润":35
    },
    "莓榴果": {
        "序":49,
        "日":"ハバンのみ",
        "英":"Haban Berry",
        "辣":0,
        "涩":0,
        "甜":10,
        "苦":20,
        "酸":0,
        "润":35
    },
    "刺耳果": {
        "序":50,
        "日":"ナモのみ",
        "英":"Colbur Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":10,
        "酸":20,
        "润":35
    },
    "霹霹果": {
        "序":51,
        "日":"リリバのみ",
        "英":"Babiri Berry",
        "辣":25,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":35
    },
    "灯浆果": {
        "序":52,
        "日":"ホズのみ",
        "英":"Chilan Berry",
        "辣":0,
        "涩":25,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":35
    },
    "枝荔果": {
        "序":53,
        "日":"チイラのみ",
        "英":"Liechi Berry",
        "辣":30,
        "涩":10,
        "甜":30,
        "苦":0,
        "酸":0,
        "润":40
    },
    "龙睛果": {
        "序":54,
        "日":"リュガのみ",
        "英":"Ganlon Berry",
        "辣":0,
        "涩":30,
        "甜":10,
        "苦":30,
        "酸":0,
        "润":40
    },
    "沙鳞果": {
        "序":55,
        "日":"カムラのみ",
        "英":"Salac Berry",
        "辣":0,
        "涩":0,
        "甜":30,
        "苦":10,
        "酸":30,
        "润":40
    },
    "龙火果": {
        "序":56,
        "日":"ヤタピのみ",
        "英":"petaya Berry",
        "辣":30,
        "涩":0,
        "甜":0,
        "苦":30,
        "酸":10,
        "润":40
    },
    "杏仔果": {
        "序":57,
        "日":"ズアのみ",
        "英":"Apicot Berry",
        "辣":10,
        "涩":30,
        "甜":0,
        "苦":0,
        "酸":30,
        "润":40
    },
    "兰萨果": {
        "序":58,
        "日":"サンのみ",
        "英":"Lansat Berry",
        "辣":30,
        "涩":10,
        "甜":30,
        "苦":10,
        "酸":30,
        "润":50
    },
    "星桃果": {
        "序":59,
        "日":"スターのみ",
        "英":"Starf Berry",
        "辣":30,
        "涩":10,
        "甜":30,
        "苦":10,
        "酸":30,
        "润":50
    },
    "谜芝果": {
        "序":60,
        "日":"ナゾのみ",
        "英":"Enigma Berry",
        "辣":40,
        "涩":10,
        "甜":0,
        "苦":0,
        "酸":0,
        "润":60
    },
    "奇秘果": {
        "序":61,
        "日":"ミクルのみ",
        "英":"Micle Berry",
        "辣":0,
        "涩":40,
        "甜":10,
        "苦":0,
        "酸":0,
        "润":60
    },
    "释陀果": {
        "序":62,
        "日":"イバンのみ",
        "英":"Custap Berry",
        "辣":0,
        "涩":0,
        "甜":40,
        "苦":10,
        "酸":0,
        "润":60
    },
    "嘉珍果": {
        "序":63,
        "日":"ジャポのみ",
        "英":"Jaboca Berry",
        "辣":0,
        "涩":0,
        "甜":0,
        "苦":40,
        "酸":10,
        "润":60
    },
    "雾莲果": {
        "序":64,
        "日":"レンブのみ",
        "英":"Rowap Berry",
        "辣":10,
        "涩":0,
        "甜":0,
        "苦":0,
        "酸":40,
        "润":60
    },
    "洛玫果": {
        "序":65,
        "日":"ロゼルのみ",
        "英":"Roseli Berry",
        "辣":0,
        "涩":0,
        "甜":25,
        "苦":10,
        "酸":0,
        "润":35
    }
}

function cal(n) {

    if ( n != 0) {
        document.getElementById("berry_img_" + n).src="berry/Dream_" + document.getElementById("berry" + n).value + "_Sprite.png"
    }

    var La=Berry[berry1.value].辣+Berry[berry2.value].辣+Berry[berry3.value].辣+Berry[berry4.value].辣
    var Se=Berry[berry1.value].涩+Berry[berry2.value].涩+Berry[berry3.value].涩+Berry[berry4.value].涩
    var Tian=Berry[berry1.value].甜+Berry[berry2.value].甜+Berry[berry3.value].甜+Berry[berry4.value].甜
    var Ku=Berry[berry1.value].苦+Berry[berry2.value].苦+Berry[berry3.value].苦+Berry[berry4.value].苦
    var Suan=Berry[berry1.value].酸+Berry[berry2.value].酸+Berry[berry3.value].酸+Berry[berry4.value].酸

    // 口味负值数量
    var negative = 0
    // 帅气=∑辣-∑涩
    var SQ = La - Se
    if (SQ < 0) {
        SQ=0
        negative+=1
    }
    document.getElementById("ShuaiQi").innerText=SQ
    // 美丽=∑涩-∑甜
    var ML = Se - Tian
    if (ML < 0) {
        ML=0
        negative+=1
    }
    document.getElementById("MeiLi").innerText=ML
    // 可爱=∑甜-∑苦
    var KA = Tian - Ku
    if (KA < 0) {
        KA=0
        negative+=1
    }
    document.getElementById("KeAi").innerText=KA
    // 聪明=∑苦-∑酸
    var CM = Ku - Suan
    if (CM < 0) {
        CM=0
        negative+=1
    }
    document.getElementById("CongMing").innerText=CM
    // 强壮=∑酸-∑辣
    var QZ = Suan - La
    if (QZ < 0) {
        QZ=0
        negative+=1
    }
    document.getElementById("QiangZhuang").innerText=QZ
    // 口味值
    KW = {
        "辣" : SQ,
        "涩" : ML,
        "甜" : KA,
        "苦" : CM,
        "酸" : QZ,
    }
    // 口味值数量
    var KW_num = 0
    // 口味
    var Poffin
    // 口味值最高大于50，香醇。同时计算口味值数量。
    for (var i in KW) {
        if (KW[i] > 0) {
            KW_num+=1
            if (KW[i] > 50) {
                Poffin  = "香醇宝芬"
            }
        }
    }
    // 口味数量3个，浓厚。4个，腻口。否则，计算两个最高的数值，并排序。
    if (Poffin != "香醇宝芬") {
        if (KW_num == 3) {
            Poffin  = "浓厚宝芬"
        } else if (KW_num == 4) {
            Poffin  = "腻口宝芬"
        } else {
            var n1 = 0
            var n2 = 0
            var p1 = ''
            var p2 = ''
            // 口味最高的值
            for (var x in KW) {
                for (var y in KW) {
                    if (x != y) {
                        if ((KW[x] - KW[y]) > n1)  {
                            n1 = KW[x] - KW[y]
                            p1 = x
                        }
                    }
                }
            }
            // 口味第二高的值
            for (var x in KW) {
                for (var y in KW) {
                    if (x != y && x != p1) {
                        if ((KW[x] - KW[y]) > n2) {
                            n2 = KW[x] - KW[y]
                            p2 = x
                        }
                    }
                }
            }
            Poffin = p1 + p2 + "宝芬"
        }
    }
    // 口味值都是0，难吃
    var KW_0 = 0
    for (var i in KW) {
        KW_0 += KW[i]
    }
    if (KW_0 == 0) {
        Poffin  = "难吃宝芬"
    }
    // 口味值负数大于3个，难吃
    if (negative>=3) {
        Poffin  = "难吃宝芬"
    }
    // 计算树果数量，重复树果大于2个，难吃
    var berry_all = [berry1.value,berry2.value,berry3.value,berry4.value]
    var all = []
    for (var b in berry_all) {
        if (berry_all[b] != '不放树果') {
            all.push(berry_all[b])
        }
    }
    for (var x in all) {
        for (var y in all) {
            if (x != y) {
                if (all[x] == all[y]) {
                    Poffin  = "难吃宝芬"
                }
            }
        }
    }
    // 润口度
    
    // 没有树果
    if (all.length == 0) {
        Poffin="空气是无色无味透明的。"
        RK="润了个寂寞。"
    } else {
        var RK = 0
        for (var i in all) {
            RK += Berry[all[i]]['润']
        }
        RK = parseInt(RK / all.length - all.length)
    }
    // 难吃则标注为0
    if (Poffin == "难吃宝芬") {
        document.getElementById("ShuaiQi").innerText=0
        document.getElementById("MeiLi").innerText=0
        document.getElementById("KeAi").innerText=0
        document.getElementById("CongMing").innerText=0
        document.getElementById("QiangZhuang").innerText=0
        document.getElementById("kw_info").innerText="随机3种口味值为2，其余2种口味值为0。"
    } else {
        document.getElementById("kw_info").innerText=""
    }
    document.getElementById("KouWei").innerText=Poffin
    document.getElementById("RunKou").innerText=RK
}

function clean() {
    berry1.value="不放树果"
    berry2.value="不放树果"
    berry3.value="不放树果"
    berry4.value="不放树果"
    document.getElementById("berry_img_1").src="berry/Dream_不放树果_Sprite.png"
    document.getElementById("berry_img_2").src="berry/Dream_不放树果_Sprite.png"
    document.getElementById("berry_img_3").src="berry/Dream_不放树果_Sprite.png"
    document.getElementById("berry_img_4").src="berry/Dream_不放树果_Sprite.png"
    document.getElementById("ShuaiQi").innerText=""
    document.getElementById("MeiLi").innerText=""
    document.getElementById("KeAi").innerText=""
    document.getElementById("CongMing").innerText=""
    document.getElementById("QiangZhuang").innerText=""
    document.getElementById("KouWei").innerText=""
    document.getElementById("RunKou").innerText=""
    document.getElementById("kw_info").innerText=""
}